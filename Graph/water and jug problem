Input: x = 3, y = 5, target = 4

Output: true

Explanation:

Follow these steps to reach a total of 4 liters:

Fill the 5-liter jug (0, 5).
Pour from the 5-liter jug into the 3-liter jug, leaving 2 liters (3, 2).
Empty the 3-liter jug (0, 2).
Transfer the 2 liters from the 5-liter jug to the 3-liter jug (2, 0).
Fill the 5-liter jug again (2, 5).
Pour from the 5-liter jug into the 3-liter jug until the 3-liter jug is full. This leaves 4 liters in the 5-liter jug (3, 4).
Empty the 3-liter jug. Now, you have exactly 4 liters in the 5-liter jug (0, 4).
Reference: The Die Hard example.


class Solution {
    public boolean canMeasureWater(int x, int y, int target) {
        if(x+y<target){
            return false;
        }
        int directions[] = {x,-x,y,-y};
        Queue<Integer> q = new ArrayDeque<>();
        Set<Integer> visited = new HashSet<>();
        q.add(0);
        visited.add(0);

        while(!q.isEmpty()){
            int curr = q.remove();
            if(curr==target){
                return true;
            }

            for(int dir : directions){
                int total = curr+dir;

                if(total==target){
                    return true;
                }
                if(total<0 || total>x+y){
                    continue;
                }
                if(!visited.contains(total)){
                    visited.add(total);
                    q.add(total);
                }
            }
        }
        return false;
    }
}



